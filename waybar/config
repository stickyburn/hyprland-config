{
    "layer": "top",
    "position": "top",
    "height": 30,
    "prefer-dark-theme": true,
    "modules-left": [
        "custom/city-selector",
        "custom/multi-clock",
        "custom/multi-weather"
    ],
    "modules-center": [
        "hyprland/workspaces"
    ],
    "modules-right": [
        "cpu",
        "memory",
        "custom/vpn",
        "custom/idle"
    ],
    "custom/city-selector": {
        "format": "{}",
        "interval": 30,
        "exec": "~/.config/waybar/scripts/city_selector.sh",
        "return-type": "json",
        "on-click": "~/.config/waybar/scripts/city_selector.sh next"
    },
    "custom/multi-clock": {
        "format": "{}",
        "interval": 30,
        "exec": "~/.config/waybar/scripts/multi_city_clock.sh",
        "return-type": "json",
        "signal": 10
    },
    "custom/multi-weather": {
        "format": "{}",
        "interval": 1800,
        "exec": "~/.config/waybar/scripts/multi_city_weather.sh",
        "return-type": "json",
        "signal": 10
    },
    "hyprland/workspaces": {
        "format": "{icon}",
        "format-icons": {
            "default": "○",
            "active": "●"
        },
        "persistent-workspaces": {
            "*": 5
        },
        "on-scroll-up": "hyprctl dispatch workspace e+1",
        "on-scroll-down": "hyprctl dispatch workspace e-1",
        "on-click": "activate",
        "sort-by-number": true
    },
    "cpu": {
        "format": " {usage}%",
        "tooltip": false,
        "interval": 2,
        "on-click": "~/.config/waybar/scripts/launch_btop.sh"
    },
    "memory": {
        "format": " {percentage}%",
        "tooltip": false,
        "interval": 2,
        "on-click": "~/.config/waybar/scripts/launch_btop.sh"
    },
    "custom/vpn": {
        "format": "{}",
        "exec": "~/.config/waybar/scripts/vpn_status.sh",
        "interval": 10,
        "return-type": "json",
        "signal": 10
    },
    "custom/idle": {
        "format": "",
        "tooltip": "Sleep",
        "on-click": "hyprctl dispatch dpms off",
        "interval": 3600
    }
}